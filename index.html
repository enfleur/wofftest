<!DOCTYPE html>
<html lang="en">
    <head>
        <title>WOFF Starter</title>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <script charset="utf-8" src="https://static.worksmobile.net/static/wm/woff/edge/1/sdk.js"></script>
        <script type="text/javascript">
          function initializeWoff(woffId) {
              alert('pre init : ' + woffId);
            woff
                .init({
                    woffId: woffId
                })
                .then(() => {
                    alert('inited : ' + woffId);
                  // start to use LIFF's api
                  //initializeApp();
                })
                .catch((err) => {
                    console.log('WOFF Initialization failed ', err);
                });
        }           
            
        $(document).ready(function () {

            var woffId = "CYvqEM9J-Xx5qb6vFlKUkw";
            initializeWoff(woffId);
            
            document.getElementById('sendMessageButton').addEventListener('click', function() {
              if (!woff.isInClient()) {
                sendAlertIfNoInClient();
              } else {
                woff.sendMessages([{
                  'type': 'text',
                  'text': "Hello, Works!"
                }]).then(function() {
                  window.alert('Message sent');
                }).catch(function(error) {
                  window.alert('Error sending message: ' + error);
                });
              }
            });    
        })
         
        </script>
          

        
    </head>
    <body>
        <h2>hello! works!!</h2>
        <button id="sendMessageButton">send</button>
    </body>
</html>
